use math;
use sys;
use convert;

var my_var = "Hello from my_utils!";

fun calculate_fibonacci(n) {
    // Iterative fibonacci to avoid recursion issues in modules
    if (n <= 1) {
        return n;
    }
    var a = 0;
    var b = 1;
    var i = 2;
    while (i <= n) {
        var temp = a + b;
        a = b;
        b = temp;
        i = i + 1;
    }
    return b;
}

fun save_result(filename, value) {
    sys.write(filename, "Result: " + convert.str(value));
    return true;
}

fun load_config(filename) {
    if (sys.exists(filename)) {
        return sys.read(filename);
    }
    return "default_config";
}
